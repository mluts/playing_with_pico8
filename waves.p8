pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- waves
-- by mluts

-- waves demo by zep taken as example


center = {}
center.x = 64
center.y = 64

z_dist_k = 40
cos_scale = 6

function _update()
  if btn(0) then center.x -= 1 end
  if btn(1) then center.x += 1 end
  if btn(2) then center.y -= 1 end
  if btn(3) then center.y += 1 end
end

function _draw()
  cls()

  for y=0,127,3 do
    for x=0,127,3 do

      local vx = center.x - x
      local vy = center.y - y
      local dist = sqrt(vx*vx + vy*vy)
      local z = cos(dist/z_dist_k - t()) * cos_scale
      pset(x,y-z, 6)
    end
  end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
